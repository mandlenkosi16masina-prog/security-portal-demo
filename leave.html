<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Leave Payment Calculator</title>
  <link rel="stylesheet" href="style.css" />
  <script>
    window.onload = () => {
      if(localStorage.getItem("loggedIn") !== "true") {
        window.location.href = "index.html";
      }
    };

    const hourlyRate = 29.31;
    const hoursPerLeaveDay = 12;

    function calculateLeavePay() {
      const daysWorked = parseInt(document.getElementById("daysWorked").value);

      if(isNaN(daysWorked) || daysWorked <= 0) {
        alert("Please enter valid days worked.");
        return;
      }

      // Calculate whole leave days (round down)
      const leaveDays = Math.floor(daysWorked / 17);

      // Calculate leave hours
      const leaveHours = leaveDays * hoursPerLeaveDay;

      // Calculate leave pay
      const leavePay = leaveHours * hourlyRate;

      document.getElementById("result").innerText =
        `Leave Days Entitled: ${leaveDays} days\n` +
        `Leave Hours: ${leaveHours} hours\n` +
        `Leave Pay: R${leavePay.toFixed(2)}`;
    }
  </script>
</head>
<body>
  <div class="container">
    <h1>Leave Payment Calculator</h1>

    <label for="daysWorked">Days Worked in Cycle</label>
    <input type="number" id="daysWorked" min="0" step="1" required />

    <button onclick="calculateLeavePay()">Calculate</button>
    <pre id="result" style="white-space: pre-line; margin-top: 15px;"></pre>
    <a href="dashboard.html">Back to Dashboard</a>
  </div>
</body>
</html>
