<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Employee Leave Calculator</title>
<style>
body{font-family:Arial,sans-serif;background:linear-gradient(135deg,#2E86AB,#F6C667);color:#fff;padding:20px;}
.wrap{max-width:800px;margin:0 auto;}
h1{text-align:center;margin-bottom:20px;}
.panel{background:rgba(255,255,255,.15);padding:20px;border-radius:12px;}
label{display:block;margin:10px 0 5px;}
input,select,button{width:100%;padding:10px;margin-bottom:10px;border:none;border-radius:8px;font-size:16px;}
button{background:#27AE60;color:#fff;font-weight:bold;cursor:pointer;}
button:hover{background:#1e8449;}
.result{margin-top:20px;padding:15px;background:rgba(255,255,255,.12);border-radius:10px;}
</style>
</head>
<body>

<div class="wrap">
<h1>Employee Leave Calculator</h1>

<div class="panel">
    <label for="employeeSelect">Select Employee:</label>
    <select id="employeeSelect">
        <option value="">-- Select Employee --</option>
    </select>

    <label for="daysWorked">Number of Days Worked in Year:</label>
    <input type="number" id="daysWorked" min="0" max="12" value="12">

    <button onclick="calculateLeave()">Calculate Leave Pay</button>

    <div class="result" id="resultBox" style="display:none;">
        <h3>Leave Pay Calculation:</h3>
        <p id="leaveDetails"></p>
    </div>
</div>

<p style="text-align:center;"><a href="dashboard.html">⬅ Back to Dashboard</a></p>
</div>

<script>
// Hourly rate and full year hours
const HOURLY_RATE = 29.31; 
const HOURS_PER_DAY = 12;   

// Demo employee names for the dropdown
const demoEmployees = ["John Dlamini", "Sihle Nkosi", "Thabo Mokoena", "Zanele Khumalo", "Sipho Mthembu"];

function populateEmployees(){
    const select = document.getElementById("employeeSelect");
    demoEmployees.forEach(emp=>{
        select.innerHTML += `<option value="${emp}">${emp}</option>`;
    });
}

function calculateLeave(){
    const employeeName = document.getElementById("employeeSelect").value;
    const daysWorked = parseInt(document.getElementById("daysWorked").value) || 0;
    const resultBox = document.getElementById("resultBox");
    const leaveDetails = document.getElementById("leaveDetails");

    if(!employeeName){
        alert("Please select an employee.");
        return;
    }
    if(daysWorked <= 0){
        alert("Enter a valid number of days worked.");
        return;
    }

    // Full year leave: 12 days × HOURS_PER_DAY
    const fullYearLeave = HOURLY_RATE * HOURS_PER_DAY * 12;
    // Pro-rata leave: based on days worked
    const proRataLeave = HOURLY_RATE * HOURS_PER_DAY * daysWorked;

    resultBox.style.display = "block";
    leaveDetails.innerHTML = `
        Employee: <strong>${employeeName}</strong><br>
        Full Year Leave Entitlement: R${fullYearLeave.toFixed(2)}<br>
        Days Worked: ${daysWorked}<br>
        <strong>Leave Pay (Pro-Rata): R${proRataLeave.toFixed(2)}</strong>
    `;
}

// Populate dropdown on load
window.addEventListener("load", populateEmployees);
</script>

</body>
</html>
